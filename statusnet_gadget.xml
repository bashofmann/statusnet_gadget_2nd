<?xml version="1.0" encoding="UTF-8"?>
<Module>
    <ModulePrefs title="status.net Gadget">
        <Require feature="opensocial-0.9" />
        <Require feature="views" />
        <Require feature="opensocial-data" />
        <Require feature="opensocial-templates">
        </Require>
        <Require feature="osapi" />
    </ModulePrefs>
    <Content type="html" view="canvas,profile">
        <![CDATA[
            Hello <span id="name"></span>
            <script type="text/javascript">
                var req = opensocial.newDataRequest();
                req.add(req.newFetchPersonRequest(opensocial.IdSpec.PersonId.VIEWER), 'viewer');
                req.send(function(data) {
                    var viewerName = data.get('viewer').getData().getField('name');
                    document.getElementById('name').innerHTML = viewerName.getField('givenName')
                        + " <b>" + viewerName.getField('familyName') + "</b>";
                });
            </script>
       ]]>
    </Content>
</Module>
