<?xml version="1.0" encoding="UTF-8"?>
<Module>
    <ModulePrefs title="status.net Gadget">
        <Require feature="opensocial-0.9" />
        <Require feature="views" />
        <Require feature="opensocial-data" />
        <Require feature="opensocial-templates">
        </Require>
        <Require feature="osapi" />
    </ModulePrefs>
    <Content type="html" view="canvas,profile">
        <![CDATA[
            <script xmlns:os="http://ns.opensocial.org/2008/markup" type="text/os-data">
                <os:PeopleRequest key="Viewer" userId="@viewer" fields="name" groupId="@self"/>
            </script>
            Hello <span id="name"></span>
            <script type="text/javascript">
                var viewer =  opensocial.data.DataContext.getDataSet('Viewer');
                document.getElementById('name').innerHTML = viewer.name.givenName
                    + ' <b>' + viewer.name.familyName + '</b>';
            </script>
       ]]>
    </Content>
</Module>
